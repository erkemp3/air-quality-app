(this["webpackJsonpair-quality-app"]=this["webpackJsonpair-quality-app"]||[]).push([[0],{34:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(8),i=n.n(s),r=(n(34),n(13)),o=n.n(r),u=n(4),l=n(25),j=n(5),m=n(26),p=n.n(m),d=(n(55),n(56),n(27)),b=n.n(d),h=n(10),f=n.n(h),O=n(1),x=function(e){var t=e.setSearchText,n=e.searchText,c=e.onChangeHandler,a=e.onSuggestHandler,s=e.placeholder,i=e.suggestions,r=e.setSuggestions;return Object(O.jsxs)("div",{className:"search",children:[Object(O.jsxs)("div",{className:"searchInputs",children:[Object(O.jsx)("div",{className:"searchIcon",children:0===n.length?Object(O.jsx)(b.a,{}):Object(O.jsx)(f.a,{id:"clearBtn",value:n,onClick:function(){r([]),t("")}})}),Object(O.jsx)("input",{type:"text",placeholder:s,onChange:function(e){return c(e.target.value)},value:n,className:"input-box",onBlur:function(){setTimeout((function(){r([])}),100)}})]}),0!==i.length&&Object(O.jsx)("div",{className:"dataResult",children:i&&i.map((function(e,t){return Object(O.jsx)("div",{className:"dataItem",onClick:function(){return a(e.location)},children:Object(O.jsxs)("p",{children:[" ",e.location,", ",e.city," "]})},t)}))})]})},g=(n(63),function(e){var t=e.onSubmit,n=e.summaries,c=function(e){var t=e.split("").splice(8,2).join(""),n=e.split("").splice(5,2).join(""),c=e.split("").splice(0,4).join(""),a=e.split("").splice(11,5).join("");return"".concat(t,"-").concat(n,"-").concat(c," - ").concat(a)},a=function(e){for(var t="",n=0;n<e.measurements.length-1;n++)t+="".concat(e.measurements[n].parameter.toUpperCase(),": ").concat(e.measurements[n].value,", ");return"".concat(t," ").concat(e.measurements[e.measurements.length-1].parameter.toUpperCase(),": ").concat(e.measurements[e.measurements.length-1].value)};return Object(O.jsx)("div",{className:"summaries",children:n.map((function(e){return Object(O.jsxs)("div",{className:"summary",children:[Object(O.jsx)("div",{className:"button-div",children:Object(O.jsx)("button",{type:"submit",onClick:function(){t(e.location)},className:"delete-button",children:Object(O.jsx)(f.a,{})})}),Object(O.jsxs)("p",{className:"date",children:["LAST UPDATED: ",c(e.measurements[0].lastUpdated)]}),Object(O.jsx)("p",{className:"location",children:e.location}),Object(O.jsxs)("p",{className:"city",children:["in ",e.city,", United Kingdom"]}),Object(O.jsxs)("p",{className:"values",children:["Values: ",a(e)]})]},e.location)}))})}),v=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),i=Object(j.a)(s,2),r=i[0],m=i[1],d=Object(c.useState)([]),b=Object(j.a)(d,2),h=b[0],f=b[1],v=Object(c.useState)([]),N=Object(j.a)(v,2),y=N[0],S=N[1];Object(c.useEffect)((function(){p.a.request({method:"GET",url:"https://u50g7n0cbj.execute-api.us-east-1.amazonaws.com/v2/latest?limit=747&page=1&offset=0&sort=desc&radius=1000&country_id=GB&order_by=lastUpdated&dumpRaw=false"}).then((function(e){a(e.data.results)})).catch((function(e){console.log(e)}))}),[]);var C=function(){var e=Object(l.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t),f([]),c=n.filter((function(e){return e.location===t})),S([].concat(Object(u.a)(y),Object(u.a)(c)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("h1",{className:"app-title",children:"Compare your Air"}),Object(O.jsx)("p",{className:"app-subtitle1",children:"Compare the air quality between cities in the UK."}),Object(O.jsx)("p",{className:"app-subtitle2",children:"Select cities to compare using the search tool below."}),Object(O.jsx)(x,{searchText:r,setSearchText:m,results:n,suggestions:h,setSuggestions:f,onChangeHandler:function(e){var t=[];e.length>0&&(t=n.filter((function(e){return null!=e.city})).filter((function(t){var n=new RegExp("".concat(e),"gi");return t.city.match(n)})));f(t),m(e)},onSuggestHandler:C,placeholder:"Enter city name..."}),Object(O.jsx)(g,{onSubmit:function(e){S(y.filter((function(t){return t.location!==e})))},summaries:y})]})};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(v,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.b3a76954.chunk.js.map